<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>卡券设置</title>
    <meta name="author" content="kinwai">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="css/style.pc.css" rel="stylesheet" />
    <script src="huihr/WdatePicker.js"></script>
    <script src="js/12jquery.min.js"></script>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="http://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr.js"></script>
    <![endif]-->
    <!-- Favicons -->
    <!--html5shiv.min.js认识html5新标签 -->
</head>
<body>
    <div class="jifen_body">
        <div class="am-sticky-placeholder" style="height: 42px; margin: 0px;">
            <ul class="am-nav am-nav-tabs dy-show2 " style="margin: 0px;padding:0;">
                <li class="top_title"><a href="integral.html">积分</a>><span style="color:#999;padding:0 5px;">卡券设置</span></li>
            </ul>
        </div>
        <div class="zuzhi_btn">
            <a class="btn new_btn" data-toggle="modal" data-target="#myModal">新建</a>
            <div class="btn-group">
                <button type="button" class="btn hr-dropdown dropdown-toggle" data-toggle="dropdown">
                    更多 <span class="fa fa-angle-down list_down_icon"></span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li><a class="aDel" data-toggle="modal" data-target="#delModal" href="#">删除</a></li>
                    <li><a class="aUpdate" data-toggle="modal" data-target="#myModal" href="#">修改</a></li>
                    <li><a class="aDel" data-toggle="modal" data-target="#closeModal" href="#">关闭</a></li>
                </ul>
            </div>
        </div>
        <div class="plan " style="margin-top:20px;">
            <div class="body zuzhi_list sh_list1">
                <div class="data">
                    <div class="table-responsive" ">
                        <table class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th class="check_th"><input type="checkbox" id="selectAll"></th>
                                    <th class="toggle">项目类型</th>
                                    <th class="toggle">项目名称</th>
                                    <th class="toggle">所需积分</th>
                                    <th class="toggle">有效期限</th>
                                    <th class="toggle">总数量</th>
                                    <th class="toggle">剩余数量</th>
                                    <th class="toggle">状态</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th class="check_th"><input class="id" type="checkbox" name="id" value="1"></th>
                                    <td class="taskname toggle ">项目类型</td>
                                    <td class="toggle">项目名称</td>
                                    <td class="toggle ">所需积分</td>
                                    <td class="toggle">有效期限</td>
                                    <td class="toggle">总数量</td>
                                    <td class="toggle">剩余数量</td>


                                    <!--状态添加class名 正常:zt_zc 已到期：zt_nom 已关闭：zt_close-->
                                    <td class="toggle"><span class="wenzhang_zt zt_zc">正常</span></td>
                                </tr>
                                <tr>
                                    <th class="check_th"><input class="id" type="checkbox" name="id" value="1"></th>
                                    <td class="taskname toggle ">项目类型</td>
                                    <td class="toggle">项目名称</td>
                                    <td class="toggle ">所需积分</td>
                                    <td class="toggle">有效期限</td>
                                    <td class="toggle">总数量</td>
                                    <td class="toggle">剩余数量</td>


                                    <!--状态效果添加class名 正常:zt_zc 已到期：zt_nom 已关闭：zt_close-->
                                    <td class="toggle"><span class="wenzhang_zt zt_nom">已到期</span></td>
                                </tr>
                                <tr>
                                    <th class="check_th"><input class="id" type="checkbox" name="id" value="1"></th>
                                    <td class="taskname toggle ">项目类型</td>
                                    <td class="toggle">项目名称</td>
                                    <td class="toggle ">所需积分</td>
                                    <td class="toggle">有效期限</td>
                                    <td class="toggle">总数量</td>
                                    <td class="toggle">剩余数量</td>


                                    <!--状态添加class名 正常:zt_zc 已到期：zt_nom 已关闭：zt_close-->
                                    <td class="toggle"><span class="wenzhang_zt zt_close">已关闭</span> </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="footer_page">
                    <table class="page_content">
                        <tbody>
                            <tr>
                                <td>共2条记录</td>
                                <td>
                                    <label>每页条数</label>
                                    <div class="page_num tz_page" style="display:inline-block;">
                                        <input type="text" value="20" class="ui-pg-selbox-valuetext">
                                        <i class="down fa fa-angle-down"></i>
                                        <ul class="dropdown-menu ui_pg" role="menu">
                                            <li role="option" value="100">100</li>
                                            <li role="option" value="50">50</li>
                                            <li role="option" value="40">40</li>
                                            <li role="option" value="30">30</li>
                                            <li role="option" value="20">20</li>
                                            <li role="option" value="10" class="selected">10</li>
                                        </ul>
                                    </div>
                                </td>
                                <td>
                                    <div>
                                        <input type="text" value="" class="ui-pg-selbox-valuetext">
                                        <a href="#">跳转</a>
                                    </div>
                                </td>
                                <td class="page_up"><span>&lt;</span></td>
                                <td class="fy_page">
                                    <div>
                                        <span>0</span>
                                        /
                                        <span>0</span>
                                    </div>
                                </td>
                                <td class="page_next"><span>&gt;</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close"
                            data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        新建/修改
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="tc_content ">
                        <div class="tc_drop">
                            <span class="tc_drop_title">项目类别</span>
                            <div class="divdrop">
                                <button type="button" class="btndrop pos_r" style="width:233.8px;">
                                    <span class="dropText"></span><span class="fa fa-angle-down list_down_icon dropicon  down_icon_right"></span>
                                </button>
                                <ul class="dropmenu" style="display:none;">
                                    <li class="liitem">旅游类</li>
                                    <li class="liitem">培训类</li>
                                    <li class="liitem">商品类</li>
                                    <li class="liitem">休假类</li>
                                    <li class="liitem">其他类</li>
                                </ul>
                            </div>
                        </div>
                        <p>
                            <span class="tc_drop_title">项目名称</span>
                            <input class="kqjf form-control" name="start" type="text" placeholder="请输入项目名称" required>
                        </p>
                        <p>
                            <span class="tc_drop_title">所需积分</span>
                            <input class="kqjf form-control" name="start" type="text" placeholder="请输入所需积分" required>

                        </p>

                        <div class="tc_drop">
                            <span class="tc_drop_title">有效期限</span>
                            <input class="Wdate    form-control" style="width:110px;text-align:left;" type="text" onclick="WdatePicker()">
                            -
                            <input class="Wdate   form-control" style="width:110px;text-align:left;"  type="text" onclick="WdatePicker()">
                        </div>
                        <p>
                            <span class="tc_drop_title">卡券数量</span>
                            <input class="kqjf form-control" name="start" type="text" placeholder="请输入卡券数量" required>
                        </p>
                    </div>
                </div>
                <script>
                    $(document).ready(function () {
                        var widget = $('#widget');
                        widget.datetimepicker({ format: 'yyyy-mm-dd', startView: 2, minView: 2, autoclose: 1, language: 'zh-CN' }).on('hide', function () {
                            var month = widget.data('date'); widget.text(month);
                            get_bits(month);
                        });
                        var widget2 = $('#widget2');
                        widget2.datetimepicker({ format: 'yyyy-mm-dd', startView: 2, minView: 2, autoclose: 1, language: 'zh-CN' }).on('hide', function () {
                            var month = widget2.data('date'); widget2.text(month);
                        });
                    })
                </script>
                <div class="modal-footer">
                    <button type="button" class="btn add btn-default ">
                        保存并继续添加
                    </button>
                    <button type="button" class="btn btn-info">
                        保存
                    </button>
                    <button type="button" class="btn btn-default"
                            data-dismiss="modal">
                        取消
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade layer_title" id="delModal" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header ">
                    <button type="button" class="close"
                            data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title  " id="myModalLabel">
                        提示
                    </h4>
                </div>
                <div class="modal-body">
                    确认要删除选中的数据吗？
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary">
                        确认
                    </button>
                    <button type="button" class="btn btn-default"
                            data-dismiss="modal">
                        取消
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade layer_title" id="closeModal" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header ">
                    <button type="button" class="close"
                            data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        提示
                    </h4>
                </div>
                <div class="modal-body">
                    确认要关闭选中的数据吗？
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary">
                        确认
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        取消
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/app.min.js"></script>
    <!--下拉框-->
    <script>
        $(function () {
            var divdrop = $(".divdrop");
            for (var i = 0; i < divdrop.size() ; i++) {
                InitDrop($(divdrop[i]));
            }
        });
        function InitDrop(obj) {
            var itemGroup = $(obj);
            var btndrop = itemGroup.find(".btndrop").eq(0);
            var dropdownmenu = itemGroup.find(".dropmenu").eq(0);
            var menuli = dropdownmenu.find(".liitem");
            var dropText = itemGroup.find(".dropText").eq(0);
            var dropicon = itemGroup.find(".dropicon").eq(0);
            btndrop.click(function () {
                var cur = $(this);
                if (cur.data('active') !== 'on') {
                    cur.data('active', 'on');
                    dropdownmenu.show();
                    dropicon.addClass("tran_icon");
                    //$($trii[index]).addClass("tran_icon");
                } else {
                    cur.data('active', 'off');
                    dropdownmenu.hide();
                    dropicon.removeClass("tran_icon");
                    divadditem.hide();
                }
            });
            menuli.click(function () {
                var itemli = $(this);
                dropText.html(itemli.html());
                btndrop.data('active', 'off');
                dropdownmenu.hide();
                dropicon.removeClass("tran_icon");
                modal_dz.val("");
                divadditem.hide();
            });
            var additem = dropdownmenu.find(".additem").eq(0);
            var divadditem = itemGroup.find(".divadditem").eq(0);
            additem.click(function () {
                divadditem.show();
            });
            var modal_dz = divadditem.find(".modal_dz").eq(0);
            var btnqueding = divadditem.find(".btnqueding").eq(0);
            var btncancel = divadditem.find(".btncancel").eq(0);
            btncancel.click(function () {
                divadditem.hide();
                itemGroup.show();
                modal_dz.val("");
                btndrop.data('active', 'off');
                dropdownmenu.hide();
                dropicon.removeClass("tran_icon");
            });
            btnqueding.click(function () {
                dropText.html(modal_dz.val());
                divadditem.hide();
                itemGroup.show();
                modal_dz.val("");
                btndrop.data('active', 'off');
                dropdownmenu.hide();
                dropicon.removeClass("tran_icon");
            });
        }
        //$(document).click(function (e) {
        //    // && !$.contains($menu[0], e.target)
        //    //alert($.inArray(e.target, $tri));
        //    if ($.inArray(e.target, $tri) == -1) {
        //        $drop.hide();
        //        $tri.data('active', 'off');
        //        $trii.removeClass("tran_icon");
        //    }
        //});
    </script>
</body>
</html>