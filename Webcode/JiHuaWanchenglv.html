<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>计划完成率</title>
    <meta charset="utf-8" />
    <meta name="author" content="kinwai">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <link href="css/font-awesome.min.css" rel="stylesheet" />
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/style.pc.css" rel="stylesheet" />
    <script src="js/echarts.common.min.js"></script>
</head>
<body>
    <div class="jifen_body">
        <div class="am-sticky-placeholder" style="height: 42px; margin: 0px;">
            <ul class="am-nav am-nav-tabs dy-show2 " style="margin: 0px;padding:0;">
                <li class="top_title"><a href="JiHuaWanchenglv.html">报表</a>><a href="JiHuaWanchenglv.html" style="margin:0;">计划报表</a>><span style="color:#999;padding:0 5px;">计划完成率</span></li>
            </ul>
        </div>
        <div style="width:100%;padding:10px 0 ;">
            <div class="divdrop">
                <button type="button" class="btndrop text-left pos_r" style="width:100px;">
                    <span class="dropText">新增人员</span> <span class="fa fa-angle-down list_down_icon dropicon down_icon_right"></span>
                </button>
                <ul class="dropmenu pa-left" style="display:none;">
                    <li class="liitem">新增人员1</li>
                    <li class="liitem">新增人员2</li>
                    <li class="liitem">新增人员3</li>
                    <li class="liitem">新增人员4</li>
                </ul>
            </div>
        </div>
        <div class="jifen_content">
            <div class="plan">
                <div class="sidebar">
                    <div class="yearSelect">
                        <select name="year" id="year" class="select"></select>
                    </div>
                    <ul class="subnav">
                        <li><a href="#">年/季</a></li>
                        <li><a href="#">1月</a></li>
                        <li><a href="#">2月</a></li>
                        <li><a href="#">3月</a></li>
                        <li><a href="#">4月</a></li>
                        <li><a href="#">5月</a></li>
                        <li><a href="#">6月</a></li>
                        <li><a href="#">7月</a></li>
                        <li><a href="#">8月</a></li>
                        <li><a href="#">9月</a></li>
                        <li><a href="#">10月</a></li>
                        <li><a href="#">11月</a></li>
                        <li><a href="#">12月</a></li>
                    </ul>
                </div>
                <div class="body">
                    <div class="year-quarter">
                        <h3><a href="#">年度</a></h3>
                        <span><a href="#">第一季度</a></span>
                        <span><a href="#">第二季度</a></span>
                        <span><a href="#">第三季度</a></span>
                        <span><a href="#">第四季度</a></span>
                    </div>
                    <div class="month-week">
                        <h3><a href="#">月度</a></h3>
                        <span><a href="#">第一周</a></span>
                        <span><a href="#">第二周</a></span>
                        <span><a href="#">第三周</a></span>
                        <span><a href="#">第四周</a></span>
                    </div>
                    <div class="fenxibiao">
                        <div id="main" style="width: 600px;height:400px;padding-bottom:20px;margin:0 auto;"></div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            // 基于准备好的dom，初始化echarts实例
            var myChart = echarts.init(document.getElementById('main'));

            // 指定图表的配置项和数据
            option = {
                title: {
                    text: ''
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['计划完成率']
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                toolbox: {
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],

                },
                yAxis: {
                    type: 'value',
                    splitLine: {
                        show: true,
                        lineStyle: {
                            type: 'dashed',
                        }
                    }
                },
                series: [
                    {
                        name: '计划完成率',
                        type: 'line',
                        stack: '总量',
                        data: [120, 132, 101, 134, 90, 230, 210],
                        color: '#2ca9d5',
                        symbolSize: 10,
                        itemStyle: {
                            normal: {

                                color: '#2ca9d5',
                                lineStyle: {
                                    color: '#2ca9d5',
                                    width: 3,
                                }
                            },

                        },
                    },
                ]
            };
            // 使用刚指定的配置项和数据显示图表。
            myChart.setOption(option);
        </script>
        <script src="js/12jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/app.min.js"></script>
    </div>
    <!--下拉框-->
    <script>
                $(function () {
                    var divdrop = $(".divdrop");
                    for (var i = 0; i < divdrop.size() ; i++) {
                        InitDrop($(divdrop[i]));
                    }
                });
                function InitDrop(obj) {
                    var itemGroup = $(obj);
                    var btndrop = itemGroup.find(".btndrop").eq(0);
                    var dropdownmenu = itemGroup.find(".dropmenu").eq(0);
                    var menuli = dropdownmenu.find(".liitem");
                    var dropText = itemGroup.find(".dropText").eq(0);
                    var dropicon = itemGroup.find(".dropicon").eq(0);
                    btndrop.click(function () {
                        var cur = $(this);
                        if (cur.data('active') !== 'on') {
                            cur.data('active', 'on');
                            dropdownmenu.show();
                            dropicon.addClass("tran_icon");
                            //$($trii[index]).addClass("tran_icon");
                        } else {
                            cur.data('active', 'off');
                            dropdownmenu.hide();
                            dropicon.removeClass("tran_icon");
                            divadditem.hide();
                        }
                    });
                    menuli.click(function () {
                        var itemli = $(this);
                        dropText.html(itemli.html());
                        btndrop.data('active', 'off');
                        dropdownmenu.hide();
                        dropicon.removeClass("tran_icon");
                        modal_dz.val("");
                        divadditem.hide();
                    });
                    var additem = dropdownmenu.find(".additem").eq(0);
                    var divadditem = itemGroup.find(".divadditem").eq(0);
                    additem.click(function () {
                        divadditem.show();
                    });
                    var modal_dz = divadditem.find(".modal_dz").eq(0);
                    var btnqueding = divadditem.find(".btnqueding").eq(0);
                    var btncancel = divadditem.find(".btncancel").eq(0);
                    btncancel.click(function () {
                        divadditem.hide();
                        itemGroup.show();
                        modal_dz.val("");
                        btndrop.data('active', 'off');
                        dropdownmenu.hide();
                        dropicon.removeClass("tran_icon");
                    });
                    btnqueding.click(function () {
                        dropText.html(modal_dz.val());
                        divadditem.hide();
                        itemGroup.show();
                        modal_dz.val("");
                        btndrop.data('active', 'off');
                        dropdownmenu.hide();
                        dropicon.removeClass("tran_icon");
                    });
                }
                //$(document).click(function (e) {
                //    // && !$.contains($menu[0], e.target)
                //    //alert($.inArray(e.target, $tri));
                //    if ($.inArray(e.target, $tri) == -1) {
                //        $drop.hide();
                //        $tri.data('active', 'off');
                //        $trii.removeClass("tran_icon");
                //    }
                //});
    </script>
</body>
</html>
